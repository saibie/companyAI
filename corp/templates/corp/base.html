<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}AI Corp{% endblock %}</title>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <style>
        :root {
            --primary-color: #007bff;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --bg-color: #f4f6f8;
            --panel-bg: #ffffff;
            --border-color: #e1e4e8;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--bg-color);
            color: #24292e;
        }

        /* Lists: Marker Ï†úÍ±∞ */
        ul { list-style: none; padding-left: 0; margin: 0; }
        
        /* Agent Tree Specific Styles */
        .agent-tree ul { padding-left: 20px; border-left: 1px solid #eee; }
        
        /* Agent Row Layout (Ï§ÑÎ∞îÍøà Î∞©ÏßÄ) */
        .agent-item-row {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 4px 0;
            overflow: hidden; /* ÎÑòÏπòÎäî ÎÇ¥Ïö© Ïà®ÍπÄ */
        }
        
        .agent-name {
            font-weight: bold;
            color: #333;
            text-decoration: none;
            white-space: nowrap; /* Ïù¥Î¶Ñ Ï§ÑÎ∞îÍøà Í∞ïÏ†ú Í∏àÏßÄ */
        }

        .role-badge {
            font-size: 0.8em;
            color: #666;
            background-color: #f1f1f1;
            padding: 2px 6px;
            border-radius: 4px;
            
            /* Í∏¥ ÌÖçÏä§Ìä∏ ÎßêÏ§ÑÏûÑÌëú(...) Ï≤òÎ¶¨ */
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 120px; /* ÏµúÎåÄ ÎÑàÎπÑ Ï†úÌïú */
            cursor: help; /* ÎßàÏö∞Ïä§ Ïò¨Î¶¨Î©¥ Ïª§ÏÑú Î≥ÄÍ≤Ω */
        }

        /* Layout Utility Classes */
        .container { max-width: 1400px; margin: 0 auto; }
        .dashboard-grid { display: flex; gap: 20px; flex-wrap: wrap; }
        .col-left { flex: 1; min-width: 320px; }
        .col-right { flex: 2; min-width: 500px; }
        
        .panel {
            background: var(--panel-bg);
            border: 1px solid var(--border-color);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        /* Navigation */
        .navbar {
            background: var(--panel-bg);
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .nav-link { text-decoration: none; color: #333; font-weight: bold; padding: 5px 10px; border-radius: 4px; }
        .nav-link:hover { background-color: #eee; }

        /* Buttons & Forms */
        .btn { padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; color: white; font-size: 0.9em; text-decoration: none; display: inline-block; }
        .btn-primary { background-color: var(--primary-color); }
        .btn-success { background-color: var(--success-color); }
        .btn-danger { background-color: var(--danger-color); }
        
        input[type="text"], textarea, select {
            width: 100%; padding: 8px; margin-bottom: 10px;
            border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;
        }

        /* Tooltip Container */
        .tooltip-container { position: relative; display: inline-block; cursor: pointer; border-bottom: 1px dashed #666; }
        .tooltip-text {
            visibility: hidden; width: 220px; background-color: #333; color: #fff;
            text-align: left; border-radius: 6px; padding: 10px; position: absolute;
            z-index: 100; top: 125%; left: 0; opacity: 0; transition: opacity 0.3s;
            font-size: 0.85em;
        }
        .tooltip-container:hover .tooltip-text { visibility: visible; opacity: 1; }

    </style>
    {% block extra_head %}{% endblock %}
</head>
<body>
    <div class="container">
        <div class="navbar">
            <span style="font-size: 1.2em; margin-right: auto;">üè¢ <strong>AI Corp</strong></span>
            <a href="{% url 'corp:dashboard' %}" class="nav-link">üìä Dashboard</a>
            <a href="{% url 'corp:monitor' %}" class="nav-link">üîß Monitor</a> <a href="{% url 'corp:wiki_list' %}" class="nav-link">üìö Company Wiki</a>
            <span style="color: #666; font-size: 0.9em;">User: {{ request.user.username }}</span>
        </div>

        {% block content %}
        {% endblock %}
    </div>
</body>
</html>